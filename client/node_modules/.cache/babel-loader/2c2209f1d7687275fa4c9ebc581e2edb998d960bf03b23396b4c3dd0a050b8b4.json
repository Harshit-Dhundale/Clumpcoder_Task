{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"D:\\\\Projects\\\\Clumpcoder_Task\\\\client\\\\src\\\\components\\\\Forms\\\\QuestionForm.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useApp } from \"../../context/AppContext\";\nimport { questionAPI, categoryAPI } from \"../../services/api\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuestionForm = () => {\n  _s();\n  const [text, setText] = useState(\"\");\n  const [categoryId, setCategoryId] = useState(\"\");\n  const {\n    state,\n    dispatch\n  } = useApp();\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n  const fetchCategories = async () => {\n    try {\n      const response = await categoryAPI.getAll();\n      if (response.data.success) {\n        dispatch({\n          type: \"SET_CATEGORIES\",\n          payload: response.data.data\n        });\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch categories:\", error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!text.trim()) {\n      toast.error(\"Question text is required\");\n      return;\n    }\n    if (!categoryId) {\n      toast.error(\"Please select a category\");\n      return;\n    }\n    dispatch({\n      type: \"SET_LOADING\",\n      payload: true\n    });\n    try {\n      const response = await questionAPI.create({\n        text: text.trim(),\n        category: categoryId\n      });\n      if (response.data.success) {\n        dispatch({\n          type: \"ADD_QUESTION\",\n          payload: response.data.data\n        });\n        setText(\"\");\n        setCategoryId(\"\");\n        toast.success(\"Question created successfully!\");\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Failed to create question\";\n      dispatch({\n        type: \"SET_ERROR\",\n        payload: errorMessage\n      });\n      toast.error(errorMessage);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-semibold text-gray-900 mb-4\",\n      children: \"Add New Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category\",\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"category\",\n          value: categoryId,\n          onChange: e => setCategoryId(e.target.value),\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n          disabled: state.loading,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), state.categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: category._id,\n            children: category.name\n          }, category._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"questionText\",\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Question Text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"questionText\",\n          value: text,\n          onChange: e => setText(e.target.value),\n          placeholder: \"Enter question text (minimum 10 characters)\",\n          rows: 4,\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical\",\n          disabled: state.loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: [text.length, \"/10 characters minimum\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: state.loading || !text.trim() || !categoryId || text.length < 10,\n        className: \"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",\n        children: state.loading ? \"Creating...\" : \"Create Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(QuestionForm, \"E2zyKBZv1QoU8jJB3NKRvr61v4Q=\", false, function () {\n  return [useApp];\n});\n_c = QuestionForm;\nexport default QuestionForm;\nvar _c;\n$RefreshReg$(_c, \"QuestionForm\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useApp","questionAPI","categoryAPI","toast","jsxDEV","_jsxDEV","QuestionForm","text","setText","categoryId","setCategoryId","state","dispatch","fetchCategories","response","getAll","data","success","type","payload","error","console","handleSubmit","e","preventDefault","trim","create","category","_error$response","_error$response$data","errorMessage","message","className","children","fileName","lineNumber","columnNumber","onSubmit","htmlFor","id","value","onChange","target","disabled","loading","categories","map","_id","name","placeholder","rows","length","_c","$RefreshReg$"],"sources":["D:/Projects/Clumpcoder_Task/client/src/components/Forms/QuestionForm.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useApp } from \"../../context/AppContext\"\nimport { questionAPI, categoryAPI } from \"../../services/api\"\nimport toast from \"react-hot-toast\"\n\nconst QuestionForm = () => {\n  const [text, setText] = useState(\"\")\n  const [categoryId, setCategoryId] = useState(\"\")\n  const { state, dispatch } = useApp()\n\n  useEffect(() => {\n    fetchCategories()\n  }, [])\n\n  const fetchCategories = async () => {\n    try {\n      const response = await categoryAPI.getAll()\n      if (response.data.success) {\n        dispatch({ type: \"SET_CATEGORIES\", payload: response.data.data })\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch categories:\", error)\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!text.trim()) {\n      toast.error(\"Question text is required\")\n      return\n    }\n\n    if (!categoryId) {\n      toast.error(\"Please select a category\")\n      return\n    }\n\n    dispatch({ type: \"SET_LOADING\", payload: true })\n\n    try {\n      const response = await questionAPI.create({\n        text: text.trim(),\n        category: categoryId,\n      })\n\n      if (response.data.success) {\n        dispatch({ type: \"ADD_QUESTION\", payload: response.data.data })\n        setText(\"\")\n        setCategoryId(\"\")\n        toast.success(\"Question created successfully!\")\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || \"Failed to create question\"\n      dispatch({ type: \"SET_ERROR\", payload: errorMessage })\n      toast.error(errorMessage)\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Add New Question</h3>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Category\n          </label>\n          <select\n            id=\"category\"\n            value={categoryId}\n            onChange={(e) => setCategoryId(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            disabled={state.loading}\n          >\n            <option value=\"\">Select a category</option>\n            {state.categories.map((category) => (\n              <option key={category._id} value={category._id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label htmlFor=\"questionText\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Question Text\n          </label>\n          <textarea\n            id=\"questionText\"\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            placeholder=\"Enter question text (minimum 10 characters)\"\n            rows={4}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical\"\n            disabled={state.loading}\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">{text.length}/10 characters minimum</p>\n        </div>\n\n        <button\n          type=\"submit\"\n          disabled={state.loading || !text.trim() || !categoryId || text.length < 10}\n          className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n        >\n          {state.loading ? \"Creating...\" : \"Create Question\"}\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default QuestionForm\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}